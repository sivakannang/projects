#include "unistd.h"
#include "stdio.h"
#include "stdlib.h"
#include "string.h"


void raw();
void no_parity();
void odd_parity();
void even_parity();



int isOddParity(unsigned char x);
int isEvenParity(unsigned char x);
unsigned char get_odd_parity(unsigned char x);
unsigned char get_even_parity(unsigned char x);

void raw()
{

	unsigned char ch = 0;
	int count = 0;

	while ( count < 256)
	{
		printf("0x%02x,", ch);
	
		count++;
		ch++;

		if ( count % 8 == 0)
			printf(" ");

		if ( count % 16 == 0)
			printf("\n");


	}

}

void no_parity()
{
	unsigned char ch = 0;
	unsigned char tmp = 0;
	int count = 0;

	while ( count < 256)
	{
		tmp = ch & 0x7f;

		printf("0x%02x,", tmp); 
	
		count++;
		ch++;

		if ( count % 8 == 0)
			printf(" ");

		if ( count % 16 == 0)
			printf("\n");

	}
}

void odd_parity()
{
	unsigned char ch = 0;
	unsigned char tmp = 0;
	int count = 0;
	unsigned char odd_parity_array[256] = {0};

	while ( count < 128)
	{
		odd_parity_array[count] = ch;
		if ( isEvenParity(odd_parity_array[count]))
			odd_parity_array[count] = get_odd_parity(odd_parity_array[count]);

		//printf("0x%02x,", odd_parity_array[count]); 
	
		count++;
		ch++;

		//if ( count % 8 == 0)
			//printf(" ");

		//if ( count % 16 == 0)
			//printf("\n");

	}

	memcpy(odd_parity_array+128, odd_parity_array, 128);
	
	count=0;

	while ( count < 256)
	{
		printf("0x%02x,", odd_parity_array[count]); 
	
		count++;

		if ( count % 8 == 0)
			printf(" ");

		if ( count % 16 == 0)
			printf("\n");

	}

}

void even_parity()
{
	unsigned char ch = 0;
	unsigned char tmp = 0;
	int count = 0;
	unsigned char even_parity_array[256] = {0};

	while ( count < 128)
	{
		even_parity_array[count] = ch;
		if ( isOddParity(even_parity_array[count]))
			even_parity_array[count] = get_even_parity(even_parity_array[count]);

		//printf("0x%02x,", even_parity_array[count]); 
	
		count++;
		ch++;

		//if ( count % 8 == 0)
			//printf(" ");

		//if ( count % 16 == 0)
			//printf("\n");

	}

	memcpy(even_parity_array+128, even_parity_array, 128);
	
	count=0;

	while ( count < 256)
	{
		printf("0x%02x,", even_parity_array[count]); 
	
		count++;

		if ( count % 8 == 0)
			printf(" ");

		if ( count % 16 == 0)
			printf("\n");

	}

}

unsigned char get_even_parity(unsigned char x)
{
	if ( isOddParity(x))
		x = x | 0x80; 

	return x;
}

unsigned char get_odd_parity(unsigned char x)
{
	if ( isEvenParity(x))
		x = x | 0x80; 

	return x;
}

int isOddParity(unsigned char x)
{
	int bitCount = 0;

	while ( x ){
		
		if ( x & 1)
			bitCount++;

		x = x>>1;
	}

	return (bitCount % 2 == 0) ? 0 : 1;
}

int isEvenParity(unsigned char x)
{
	int bitCount = 0;

	while ( x ){
		
		if ( x & 1)
			bitCount++;

		x = x>>1;
	}

	return (bitCount % 2 == 0) ? 1 : 0;
}


void printArray()
{
	unsigned char odd_array[256] = {
		0x80,0x01,0x02,0x83,0x04,0x85,0x86,0x07, 0x08,0x89,0x8a,0x0b,0x8c,0x0d,0x0e,0x8f, 
		0x10,0x91,0x92,0x13,0x94,0x15,0x16,0x97, 0x98,0x19,0x1a,0x9b,0x1c,0x9d,0x9e,0x1f, 
		0x20,0xa1,0xa2,0x23,0xa4,0x25,0x26,0xa7, 0xa8,0x29,0x2a,0xab,0x2c,0xad,0xae,0x2f, 
		0xb0,0x31,0x32,0xb3,0x34,0xb5,0xb6,0x37, 0x38,0xb9,0xba,0x3b,0xbc,0x3d,0x3e,0xbf, 
		0x40,0xc1,0xc2,0x43,0xc4,0x45,0x46,0xc7, 0xc8,0x49,0x4a,0xcb,0x4c,0xcd,0xce,0x4f, 
		0xd0,0x51,0x52,0xd3,0x54,0xd5,0xd6,0x57, 0x58,0xd9,0xda,0x5b,0xdc,0x5d,0x5e,0xdf, 
		0xe0,0x61,0x62,0xe3,0x64,0xe5,0xe6,0x67, 0x68,0xe9,0xea,0x6b,0xec,0x6d,0x6e,0xef, 
		0x70,0xf1,0xf2,0x73,0xf4,0x75,0x76,0xf7, 0xf8,0x79,0x7a,0xfb,0x7c,0xfd,0xfe,0x7f, 
		0x80,0x01,0x02,0x83,0x04,0x85,0x86,0x07, 0x08,0x89,0x8a,0x0b,0x8c,0x0d,0x0e,0x8f, 
		0x10,0x91,0x92,0x13,0x94,0x15,0x16,0x97, 0x98,0x19,0x1a,0x9b,0x1c,0x9d,0x9e,0x1f, 
		0x20,0xa1,0xa2,0x23,0xa4,0x25,0x26,0xa7, 0xa8,0x29,0x2a,0xab,0x2c,0xad,0xae,0x2f, 
		0xb0,0x31,0x32,0xb3,0x34,0xb5,0xb6,0x37, 0x38,0xb9,0xba,0x3b,0xbc,0x3d,0x3e,0xbf, 
		0x40,0xc1,0xc2,0x43,0xc4,0x45,0x46,0xc7, 0xc8,0x49,0x4a,0xcb,0x4c,0xcd,0xce,0x4f, 
		0xd0,0x51,0x52,0xd3,0x54,0xd5,0xd6,0x57, 0x58,0xd9,0xda,0x5b,0xdc,0x5d,0x5e,0xdf, 
		0xe0,0x61,0x62,0xe3,0x64,0xe5,0xe6,0x67, 0x68,0xe9,0xea,0x6b,0xec,0x6d,0x6e,0xef, 
		0x70,0xf1,0xf2,0x73,0xf4,0x75,0x76,0xf7, 0xf8,0x79,0x7a,0xfb,0x7c,0xfd,0xfe,0x7f
	};

	int count = 0;

	while ( count < 256)
	{
		printf("0x%02x,", odd_array[count]); 
	
		count++;

		if ( count % 8 == 0)
			printf(" ");

		if ( count % 16 == 0)
			printf("\n");

	}
}

int main()
{

	raw();
	printf("\n\n\n");
	no_parity();
	printf("\n\n\n");
	even_parity();
	printf("\n\n\n");
	odd_parity();
	printf("\n\n\n");
	printArray();
	printf("\n\n\n");
	return 0;
}
